<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" auto-config="false" disable-url-rewriting="true">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Suprema</title>

    <!-- Bootstrap -->
    <link href="../vendors/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="../vendors/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <!-- NProgress -->
    <link href="../vendors/nprogress/nprogress.css" rel="stylesheet">
    <!-- Animate.css -->
    <link href="../vendors/animate.css/animate.min.css" rel="stylesheet">

    <!-- Custom Theme Style -->
    <link href="../build/css/custom.min.css" rel="stylesheet">

    <script src="/webjars/sockjs-client/sockjs.min.js"></script>
    <script src="/webjars/stomp-websocket/stomp.min.js"></script>
    <script src="../vendors/jquery/dist/jquery.min.js"></script>
    <script src="/js/loading.js"></script>
    <script src="/js/base.js"></script>
</head>
<body class="login">
<div>
    <div class="login_wrapper">
        <div class="animate form login_form">
            <section class="login_content">
                <form id="checkForm" name="checkForm" method="POST">
                    <input id="selectUserID" type="hidden"/>
                    <h2 th:class="${class}" th:text="${message}"></h2>
                </form>
            </section>
        </div>
    </div>
</div>
</body>
<script th:inline="javascript">
    var deviceID = [[${deviceID}]];
    console.log("deviceID_" + deviceID);
    // function sendName(deviceID) {
    //     startLoading();
    //     stompClient.send("/app/sdkCommand", {}, JSON.stringify({'apiRequest': 'EVENT_DEVICE', 'dataInput' : {"userID": userID, "deviceID" : deviceID}}));
    // }
    //
    // function connect() {
    //     console.log(deviceID);
    //     var socket = new SockJS('/gs-guide-websocket');
    //     stompClient = Stomp.over(socket);
    //     stompClient.connect({}, function (frame) {
    //         userID = getCookie("userID");
    //         var urlResult = "/topic/sdkCommandResult/" + userID;
    //         stompClient.subscribe(urlResult, function (data) {
    //             startLoading();
    //             var apiRequest = JSON.parse(data.body).apiRequest;
    //             if (apiRequest == "EVENT_DEVICE") {
    //                 var selectUserId = JSON.parse(data.body).data.selectUserId;
    //                 handling(selectUserId);
    //             }
    //         });
    //         sendName(deviceID);
    //     });
    // }
    //
    // $(document).ready(function () {
    //     connect();
    // });
    //
    // function handling(selectUserId) {
    //     var inputHidden = document.querySelector('#selectUserID');
    //     inputHidden.value = selectUserId;
    //     document.getElementById("checkForm").submit();
    // }
</script>
</html>
